(this["webpackJsonpgithub-battle"]=this["webpackJsonpgithub-battle"]||[]).push([[0],{15:function(e,t,n){var a=n(39),r="?client_id=".concat("2a9f1481e564bcbb74c7","&client_secret=").concat("34b6771d1475e56c6bc6550b5a8cfc2e40ab74e4");function c(e){return a.get("https://api.github.com/users/"+e+"/repos"+r+"&per_page=100")}function s(e,t){return 3*t.followers+function(e){var t=0;return e.data.forEach((function(e){t+=e.stargazers_count})),t}(e)}function l(e){return console.warn(e),null}function i(e){return a.all([(t=e,a.get("https://api.github.com/users/"+t+r).then((function(e){return e.data}))),c(e)]).then((function(e){var t=e[0];return{profile:t,score:s(e[1],t)}}));var t}function o(e){return e.sort((function(e,t){return t.score-e.score}))}e.exports={battle:function(e){return a.all(e.map(i)).then(o).catch(l)},fetchPopularRepos:function(e){var t=window.encodeURI("https://api.github.com/search/repositories?q=stars:>1+language:"+e+"&sort=stars&order=desc&type=Repositories");return a.get(t).then((function(e){return e.data.items}))}}},37:function(e,t,n){},38:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},61:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(31),s=n.n(c),l=(n(37),n(38),n(9)),i=n(10),o=n(12),u=n(11),h=n(15),j=n.n(h),b=(n(58),n(59),n(0)),d=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={text:e.text},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.text+"...";this.interval=window.setInterval((function(){e.state.text===t?e.setState((function(){return{text:e.props.text}})):e.setState((function(e){return{text:e.text+"."}}))}),this.props.speed)}},{key:"componentWillUnmount",value:function(){console.log("Unmounted"),window.clearInterval(this.interval)}},{key:"render",value:function(){return Object(b.jsx)("p",{className:"loader",children:this.state.text})}}]),n}(r.a.Component);d.defaultProps={text:"Loading",speed:300};var p=d;function m(e){return Object(b.jsx)("ul",{className:"languages",children:["All","javaScript","Ruby","Java","CSS","Python"].map((function(t){return Object(b.jsx)("li",{style:t===e.selectedLanguage?{color:"#d0021b"}:{},onClick:e.onSelect.bind(null,t),children:t},t)}))})}function f(e){return Object(b.jsx)("ul",{className:"popular-list",children:e.repos.map((function(e,t){return Object(b.jsxs)("ul",{className:"popular-item",children:[Object(b.jsxs)("div",{className:"popular-rank",children:["#",t+1]}),Object(b.jsxs)("ul",{className:"space-list-items",children:[Object(b.jsx)("li",{children:Object(b.jsx)("img",{className:"avatar",src:e.owner.avatar_url,alt:"Avatar for"+e.owner.login})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:e.html_url,children:e.name})}),Object(b.jsxs)("li",{children:["@",e.owner.login]}),Object(b.jsxs)("li",{children:[e.stargazers_count," stars"]})]})]},t)}))})}var O=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).updateLanguage=function(e){a.setState((function(){return{selectedLanguage:e,repos:null}})),j.a.fetchPopularRepos(e).then((function(e){a.setState((function(){return{repos:e}}))}))},a.state={selectedLanguage:"All",repos:null},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.updateLanguage(this.state.selectedLanguage)}},{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(m,{selectedLanguage:this.state.selectedLanguage,onSelect:this.updateLanguage}),this.state.repos?Object(b.jsx)(f,{repos:this.state.repos}):Object(b.jsx)(p,{})]})}}]),n}(r.a.Component),x=n(2),v=n(8);n(61);var g=function(){return Object(b.jsx)("ul",{className:"nav",children:["Home","Battle","Popular"].map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)(v.c,{exact:!0,activeClassName:"active",to:"Home"!==e?"/".concat(e):"/",children:e})},e)}))})};n(67);var y=function(){return Object(b.jsxs)("div",{className:"Home-container",children:[Object(b.jsx)("h1",{children:"Github Battle: Battle your friends... and Stuff"}),Object(b.jsx)(v.b,{className:"Button",to:"/battle",children:"Battle"})]})};n(68);var N=function(e){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"column",children:[Object(b.jsx)("img",{className:"avatar",src:e.avatar,alt:"Avatar for ".concat(e.username)}),Object(b.jsx)("h2",{className:"username",children:Object(b.jsxs)("a",{className:"GithubProfile",href:"https://github.com/".concat(e.username),children:["@",e.username]})})]}),e.children]})},w=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=e.target.value;a.setState((function(){return{username:t}}))},a.handleSubmit=function(e){e.preventDefault(),a.props.onSubmit(a.props.id,a.state.username)},a.state={username:""},a}return Object(i.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsxs)("form",{className:"column",onSubmit:this.handleSubmit,children:[Object(b.jsx)("label",{className:"header",htmlFor:"username",children:this.props.label}),Object(b.jsx)("input",{id:"username",placeholder:"github username",type:"text",autoComplete:"off",value:this.state.username,onChange:this.handleChange}),Object(b.jsx)("button",{className:"Button",type:"submit",disabled:!this.state.username,children:"Submit"})]})})}}]),n}(r.a.Component),S=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleSubmit=function(e,t){a.setState((function(){var n={};return n[e+"Name"]=t,n[e+"Image"]="https://github.com/".concat(t,".png?size=200"),n}))},a.handleReset=function(e){a.setState((function(){var t={};return t[e+"Name"]="",t[e+"Image"]=null,t}))},a.state={playerOneName:"",playerTwoName:"",playerOneImage:null,playerTwoImage:null},a}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state.playerOneName,t=this.state.playerTwoName,n=this.state.playerOneImage,a=this.state.playerTwoImage,r=this.props.match;return Object(b.jsxs)("div",{className:"battle-column",children:[Object(b.jsxs)("div",{className:"row",children:[!e&&Object(b.jsx)(w,{id:"playerOne",label:"Player One",onSubmit:this.handleSubmit}),null!==n&&Object(b.jsx)(N,{avatar:n,username:e,children:Object(b.jsx)("button",{className:"reset",onClick:this.handleReset.bind(null,"playerOne"),children:"Reset"})}),!t&&Object(b.jsx)(w,{id:"playerTwo",label:"Player Two",onSubmit:this.handleSubmit}),null!==a&&Object(b.jsx)(N,{avatar:a,username:t,children:Object(b.jsx)("button",{className:"reset",onClick:this.handleReset.bind(null,"playerTwo"),children:"Reset"})})]}),n&&a&&Object(b.jsx)(v.b,{className:"Button",to:{pathname:"".concat(r.url,"/results"),search:"?playerOneName=".concat(e,"&playerTwoName=").concat(t)},children:"Battle"})]})}}]),n}(r.a.Component),k=n(69);function C(e){var t=e.info;return Object(b.jsx)(N,{avatar:t.avatar_url,username:t.login,children:Object(b.jsxs)("ul",{className:"space-list-items",children:[t.name&&Object(b.jsx)("li",{children:t.name}),t.location&&Object(b.jsx)("li",{children:t.location}),t.company&&Object(b.jsx)("li",{children:t.company}),Object(b.jsxs)("li",{children:["Followers: ",t.followers]}),Object(b.jsxs)("li",{children:["Following: ",t.following]}),Object(b.jsxs)("li",{children:["Public Repos: ",t.public_repos]}),t.blog&&Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:t.blog,children:t.blog})})]})})}function B(e){return Object(b.jsxs)("div",{className:"player",children:[Object(b.jsx)("h1",{className:"header",children:e.label}),Object(b.jsxs)("h3",{style:{textAlign:"center"},children:["Score:",e.score]}),Object(b.jsx)(C,{info:e.profile})]})}var L=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={winner:null,loser:null,error:null,loading:!0},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=k.parse(this.props.location.search);Object(h.battle)([t.playerOneName,t.playerTwoName]).then((function(t){if(null===t)return e.setState((function(){return{error:"Looks like there was an error.Check that both the users exist on github ",loading:!1}}));e.setState((function(){return{error:null,winner:t[0],loser:t[1],loading:!1}}))}))}},{key:"render",value:function(){var e=this.state.error,t=this.state.winner,n=this.state.loser;return!0===this.state.loading?Object(b.jsx)(p,{}):e?Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:e}),Object(b.jsx)(v.b,{to:"/Battle",children:"Reset"})]}):Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)(B,{label:"Winner",score:t.score,profile:t.profile}),Object(b.jsx)(B,{label:"loser",score:n.score,profile:n.profile})]})}}]),n}(r.a.Component);var R=function(){return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(g,{}),Object(b.jsx)(x.a,{exact:!0,path:"/",component:y}),Object(b.jsx)(x.a,{exact:!0,path:"/Battle",component:S}),Object(b.jsx)(x.a,{path:"/Battle/results",component:L}),Object(b.jsx)(x.a,{path:"/popular",component:O})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,84)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(v.a,{basename:"/Github-battle",children:Object(b.jsx)(R,{})})}),document.getElementById("root")),I()}},[[83,1,2]]]);
//# sourceMappingURL=main.cf4f11b1.chunk.js.map